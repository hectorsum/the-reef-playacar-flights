// Asksuite Pixel 1.0.0 | MIT License
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function init(){window.askTagQueuePreLoad=[],window.AskPixelObject=window.AskPixelObject||{},setup()}function setup(){var e,a=window.AskPixelObject.name||"askTag",t=window.AskPixelObject.dataLayer||"dataLayer",n=window.AskPixelObject.options||{};window[a]||(window[t]=window[t]||[],(e=window[a]=function(){e.process?e.process.apply(e,arguments):e.queue.push(arguments)}).queue=[],e.options=n,e.dataLayer=t,e.t=+new Date,(n=document.createElement("script")).async=1,n.src="https://pixel.asksuite.com/asktag.postload.js",(t=document.getElementsByTagName("script")[0]).parentNode.insertBefore(n,t))}function handleEventGoogleSpy(e,a){e&&e.the&&(window.location.href.includes("omnibees")&&"Z"===e.the.trackerName||(e.the.pluginName&&"ecommerce"===e.the.pluginName.toLowerCase()?handleEcommerceGtagEvent(e,a):(e.the.pluginName&&"ec"===e.the.pluginName.toLowerCase()||!e.the.pluginName&&"send"===e.the.command)&&handleEcGtagEvent(e,a)))}function handleEcGtagEvent(e,a){var t,n=e.the;a[n.trackerName]=a[n.trackerName]||ecommerceObjectDefault(),"clear"===n.pluginMethodName?a[n.trackerName]=null:"setAction"===n.pluginMethodName?(t=e.args[2])&&(a[n.trackerName].ecommerce.purchase.actionField=t).currency&&(a[n.trackerName].ecommerce.currencyCode=t.currency):"addProduct"===n.pluginMethodName?(t=e.args[1])&&a[n.trackerName].ecommerce.purchase.products.push(t):"send"!==n.pluginMethodName&&"send"!==n.command||0!==a[n.trackerName].ecommerce.purchase.products.length&&((e=e.args[2]).currencyCode&&(a[n.trackerName].ecommerce.currencyCode=e.currencyCode),window.askTagQueuePreLoad.push({eventName:"interceptGaDataLayer",value:a[n.trackerName]}),a[n.trackerName]=null)}function handleEcommerceGtagEvent(e,a){var t,n=e.the;a[n.trackerName]=a[n.trackerName]||ecommerceObjectDefault(),"clear"===n.pluginMethodName?a[n.trackerName]=null:"addTransaction"===n.pluginMethodName?(t=e.args[1])&&(a[n.trackerName].ecommerce.purchase.actionField=t).currency&&(a[n.trackerName].ecommerce.currencyCode=t.currency):"addItem"===n.pluginMethodName?(e=e.args[1])&&a[n.trackerName].ecommerce.purchase.products.push(e):"send"===n.pluginMethodName&&(window.askTagQueuePreLoad.push({eventName:"interceptGaDataLayer",value:a[n.trackerName]}),a[n.trackerName]=null)}function ecommerceObjectDefault(){return{ecommerce:{currencyCode:null,purchase:{actionField:{},products:[]}}}}window.askGaSpy=window.askGaSpy||function(a){function t(t){var e,a={args:t,the:{}},n=a.the;return c.debug&&function(e,a){for(e="Intercepted: ga(",a=0;a<t.length;a++)e+="string"==typeof t[a]?'"'+t[a]+'"':t[a],a+1<t.length&&(e+=", ");u(e+=")")}(),"function"==typeof t[0]?n.callback=t[0]:t[0]&&t[0].split&&(e=t[0].split("."),n.trackerName=1<e.length?e[0]:"t0",n.command=1<e.length?e[1]:e[0],e=e[e.length-1].split(":"),n.pluginName=1<e.length?e[0]:void 0,n.pluginMethodName=1<e.length?e[1]:void 0,"require"===n.command||"provide"===n.command?(n.pluginName=t[1],"provide"===n.command&&(n.pluginConstructor=t[2])):("send"===n.command&&(n.hitType=t[t.length-1]&&t[t.length-1].hitType||t[1]),"t0"===n.trackerName&&"object"===_typeof(t[t.length-1])&&(n.trackerName=t[t.length-1].name||n.trackerName))),u("Run listener callback",n),!1!==c.callback(a)}function n(){var e=[].slice.call(arguments);if(c.debug){if(!t(e))return u("Command blocked.")}else try{if(!t(e))return}catch(e){}return u("Command allowed:",e),n._gaOrig.apply(n._gaOrig,e)}function e(){var e,a=n._gaOrig=window[i];for(e in u("Hijack",a._gaOrig?"(already hijacked)":""),window[i]=n,a)a.hasOwnProperty(e)&&(window[i][e]=a[e])}var o,r,c=function(e){if(a=null,e.debugLogPrefix=e.debugLogPrefix||"gaSpy",e.debug=!!e.debug,!e.callback||"function"!=typeof e.callback){if(e.debug)throw new Error("["+e.debugLogPrefix+"] Aborting; No listener callback provided.");e.callback=function(){}}return e.gaObjName=e.gaObjName||window.GoogleAnalyticsObject||"ga",e}("function"==typeof a?{callback:a}:a),i=c.gaObjName,l=window[i],u=window.console&&c.debug?function(){var e=[].slice.call(arguments);e.unshift("["+c.debugLogPrefix+"]"),console.log.apply(console,e)}:function(){};if(u("Config:",c),l||(u("Instantiate GA command queue"),(l=window[i]=function(){(window[i].q=window[i].q||[]).push(arguments)}).l=+new Date),l.getAll)u("GA already loaded; cannot see previous commands"),e();else if(l.l){if(u("Command queue instantiated, but library not yet loaded"),l.q&&l.q.length){for(u("Applying listener to",l.q.length," queued commands"),o=[],r=0;r<l.q.length;r++)t([].slice.call(l.q[r]))&&o.push(l.q[r]);l.q=o}else l.q=[];l(e),e()}else if(c.debug)throw new Error("["+c.debugLogPrefix+"] Aborting; `"+i+"` not the GA object.")},function(){init();var e=window.AskPixelObject,a={};askGaSpy({debug:!1,debugLogPrefix:"askGaSpy",gaObjName:((e||{}).options||{}).gaObjName||"ga",callback:function(e){return handleEventGoogleSpy(e,a)}})}();